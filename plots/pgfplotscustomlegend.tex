\newenvironment{customlegend}[1][]{%
    \begingroup
    % inits/clears the lists (which might be populated from previous
    % axes):
    \csname pgfplots@init@cleared@structures\endcsname
    \pgfplotsset{#1}%
}{%
    % draws the legend:
    \csname pgfplots@createlegend\endcsname
    \endgroup
}%

% makes \addlegendimage available (typically only available within an
% axis environment):
\def\addlegendimage{\csname pgfplots@addlegendimage\endcsname}

\definecolor{color0}{rgb}{0.8,0.207843137254902,0.219607843137255}
\definecolor{color1}{rgb}{1,0.647058823529412,0}
\definecolor{color2}{rgb}{0.0235294117647059,0.603921568627451,0.952941176470588}
\definecolor{color3}{rgb}{0.219607843137255,0.00784313725490196,0.509803921568627}
\definecolor{color4}{rgb}{0.76078431372549,0,0.470588235294118}